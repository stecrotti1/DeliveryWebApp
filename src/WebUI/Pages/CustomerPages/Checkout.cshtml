@page
@model DeliveryWebApp.WebUI.Pages.CustomerPages.CheckoutModel
@{
    ViewData["Title"] = "Checkout";
}

<h4>@ViewData["Title"]</h4>

<hr/>

<h1>Your cart:</h1>

<table class="table">
    <thead>
        <tr class="table-primary">
            <th>
                @Html.DisplayNameFor(model => model.Products[0].Image)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Products[0].Name)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Products[0].Category)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Products[0].Price)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Products[0].Discount)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Products[0].Quantity)
            </th>
            <th></th>
        </tr>
    </thead>
    <tbody>
        @foreach (var product in Model.Products)
        {
            <tr>
                <td>
                    <img src="data:image/jpeg;base64,@Convert.ToBase64String(product.Image)" alt="product_image" />
                </td>
                <td>
                    @Html.DisplayFor(model => product.Name)
                </td>
                <td>
                    @Html.DisplayFor(model => product.Category)
                </td>
                <td>
                    @Html.DisplayFor(model => product.Price)
                </td>
                <td>
                    @Html.DisplayFor(model => product.Discount)
                </td>
                <td>
                    @Html.DisplayFor(model => product.Quantity)
                </td>
            </tr>
        }
    </tbody>
</table>

<hr/>

<h1>Deliver to address</h1>

<div class="form-group col-md-5">
    <select class="form-select" aria-label="Select your address">
        <option selected id="primary-address" value="@Model.CustomerAddresses[0].ToString()">Primary address</option>
        <option id="secondary-address" value="@Model.CustomerAddresses[1].ToString()">Secondary address</option>
    </select>
</div>

<div class="form-group">
    <input id="address-selected" class="form-control" />
</div>

@section Scripts
{
    <script type="text/javascript">
        $(function() {
            if ($("#primary-address").selected === true) {
                $("#address-selected").value = $("#primary-address").value;
            }
            if ($("#secondary-address").selected === true) {
                $("#address-selected").value = $("#secondary-address").value;
            }
        });
    </script>
}

<hr/>

<h1>Payment method</h1>

